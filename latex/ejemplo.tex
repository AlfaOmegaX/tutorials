% Hola! Bienvenido a este documento LaTeX de ejemplo. Para
% compilarlo, ejecuta `pdflatex ejemplo.latex` en tu terminal.
% Hay otros compiladores de LaTeX (xelatex, lualatex), la única
% diferencia apreciable es el soporte de algunos paquetes y de
% fuentes.

% Esto es el preámbulo. En esta parte del documento puedes cargar
% paquetes y definir nuevos comandos, entre otras cosas.

% El primer comando del preámbulo suele ser la especificación del
% tipo de documento que vas a escribir. En este caso es un artículo
% en formato A4, pero podría ser un libro, una presentación, etc.
\documentclass[a4paper]{article}

% Para escribir en español necesitarás acentos y eñes, así que
% será necesario indicar la codificación del documento:
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}

% Además, algunos comandos de LaTeX escriben texto en el documento,
% procuraremos que esté en español:
\usepackage[spanish,es-noquoting,es-lcroman,es-tabla]{babel}
\selectlanguage{spanish}

% Vamos a incluir algunos paquetes. Los paquetes básicos para
% escritura de documentos matemáticos son:
\usepackage{amsmath,amsfonts,amsthm}

% Un paquete más, para poder añadir enlaces
\usepackage{hyperref}

% Con eso tenemos los paquetes principales. Recuerda que si quieres
% que tu documento cuente con alguna funcionalidad fuera de lo
% habitual, suele haber un paquete de LaTeX que la define. Por
% ejemplo, tablas muy grandes, diagramas, tipografías, etc.

% Ahora incluiremos algunos de estos paquetes que se usarán
% más adelante en el tutorial

% Para añadir imagenes incluimos algunos paquetes
\usepackage{float}
\usepackage{graphicx}

% Incluimos un paquete que nos permite crear gráficos
\usepackage{tikz}

% Paquete para poder incluir código
\usepackage{minted}

% paquete para poner subfiguras
\usepackage{subfigure}

\newmintedfile[mypython]{python}{
    linenos,
    numbersep=5pt,
    gobble=0,
    frame=lines,
    framesep=2mm,
}


% Lo último que haremos en este preámbulo será declarar el título
% y el autor de nuestro documento
\title{Ejemplo de documento en LaTeX}
\author{Marta Andrés \and David Charte}

% Genial. Ya estamos listos para comenzar a escribir. El contenido
% hay que englobarlo en el entorno `document` con \begin y \end:
\begin{document}

% Uou, ahora lo que escribas aquí aparecerá en tu documento al
% compilarlo, pero antes de que se nos olvide vamos a colocar
% el título que hemos definido antes:
\maketitle

% Vamos a crear una sección (título de primer nivel) para no ir
% poniendo texto suelto a lo loco
\section{Introducción}

Este documento PDF ha sido generado al compilar la \textit{demo}
\texttt{ejemplo.latex} que viene incluida en el repositorio de
preparación para primer curso. En las siguientes secciones se exploran
algunas de las opciones básicas de \LaTeX\ para formateo de texto e
inclusión de otros elementos, como ecuaciones, tablas y figuras.

\section{Formato}

Dar formato al texto en \LaTeX\ es relativamente sencillo. Basta con
usar algunos comandos usuales para \textbf{resaltar texto en negrita},
tal vez \textit{añadir algunas palabras en cursiva}, incluso
\texttt{código en monoespaciada}. Para añadir un bloque de código
podemos usar el entorno \texttt{verbatim}.

\begin{verbatim}
def count_words string
  string.split(" ").length
end
\end{verbatim}

\section{Matemáticas}

% Ey, para hacer títulos de segundo nivel podemos crear "subsecciones"
% (y claro, también hay subsubsecciones para los de tercer nivel).
\subsection{El entorno matemático}
El código que escribes en \LaTeX\ regularmente sólo acepta texto
normal, no podemos escribir ecuaciones directamente sobre él. Sin
embargo, hay comandos y entornos que activan el \textbf{entorno
  matemático}. Dentro de él, podrás dibujar símbolos matemáticos
mediante comandos especiales.

\subsection{Ecuaciones en línea}
El entorno matemático en línea (es decir, integrado en el párrafo de
texto) se activa y termina con el signo del dólar \texttt{\$}. Veamos
un ejemplo: $e^{i\tau}=1$.

\subsection{Ecuaciones en bloque}
A las ecuaciones que ocupan su propio renglón y van separadas del
texto se les suele llamar \textit{en bloque}. Se pueden englobar en el
entorno \texttt{equation} o bien entre \textbackslash[ y
\textbackslash]. La diferencia entre estas dos opciones es que la
primera numerará la ecuación
\begin{equation}
  f:\mathbb{R}^2 \rightarrow \mathbb{R}^2
\end{equation}
y la segunda no (un resultado similar se consigue con el entorno
\texttt{equation*}):
\[ f((x, y)) = (-y, x) \]

\subsection{Símbolos}

En el modo matemático podemos escribir variedad de símbolos, por
ejemplo las letras griegas $\alpha, \beta, \gamma$ y las demás. Para
una referencia más completa, visita
\href{https://en.wikibooks.org/wiki/LaTeX/Mathematics#List_of_Mathematical_Symbols}{este libro de Wikibooks}.

\subsection{Más ecuaciones}
\[
  \delta_{ij} =
  \begin{cases}
    1 & \mbox{ si } i = j \\
    0 & \mbox{ en otro caso}
  \end{cases}
\]

\[
  Ax = 
  \begin{pmatrix}
    \cos\alpha & -\sen\alpha & 0  \\
    \sen\alpha & \cos\alpha  & 0  \\
    0          & 0           & -1
  \end{pmatrix}
  \begin{pmatrix}
    x_1 \\
    x_2 \\
    x_3
  \end{pmatrix}
\]

           

\section{Figuras, tablas y otros}
A menudo se quiere incluir una imagen en el documento. Con el comando \texttt{includegraphics} se añade la imagen al documento, pero para que quede bien posicionada la ponemos en un entorno \texttt{figure}. Además, le podemos añadir un pie de foto que numera automáticamente la imagen con el comando \texttt{caption}.

\begin{figure}[H]
  \centering
    \includegraphics{images/kittens.jpeg}
  \caption{Los gatitos siempre son adorables.}
\end{figure}

También puedes querer hacer una tabla, como por ejemplo la tabla de sumar en $\mathbb{Z}_2$. Para ello se usa el entorno \texttt{tabular}, aunque hay otros entornos más potentes que se pueden usar para hacer tablas más complejas.

\begin{table}[H]
  \centering
  \begin{tabular}{c || c | c}
    + & 0 & 1 \\ \hline \hline
    0 & 0 & 1 \\ \hline
    1 & 1 & 0
  \end{tabular}
  \caption{Tabla de sumar de $\mathbb{Z}_2$.}
\end{table}

A veces también nos interesa crear nuestro propio diagrama cuando es sencillo, y para eso se usa el paquete de gráfiocs tikz. Si conocemos las coordenadas clave del diagrama, con el entorno \texttt{tikzpicture} podemos dibujar cosas simples como una cara sonriente o la solución al problema de la casa que se dibuja sin levantar el boli del papel (ejemplo tomado del Wikibook de \LaTeX):


\begin{figure}[H]
  \centering
    \begin{tikzpicture}
      \draw (0,0.2) circle [radius=1];
      \draw[thick] (-0.2,0.25) -- (-0.2,0.75);
      \draw[thick] (0.2,0.25) -- (0.2,0.75);
      \draw[thick] (-0.5,0.2) arc (180:360:0.5);
    \end{tikzpicture}
    \begin{tikzpicture}
      \draw[thick,rounded corners=8pt] (0,0) -- (0,2) -- (1,3.25)
      -- (2,2) -- (2,0) -- (0,2) -- (2,2) -- (0,0) -- (2,0);
    \end{tikzpicture}
\end{figure}

Podemos usar el mismo entorno para dibujar gráficos de funciones (ejemplo tomado del Wikibook de \LaTeX):
\begin{figure}[H]
  \centering
  \begin{tikzpicture}[domain=0:4]
    \draw[very thin,color=gray] (-0.1,-1.1) grid (3.9,3.9);
    \draw[->] (-0.2,0) -- (4.2,0) node[right] {$x$};
    \draw[->] (0,-1.2) -- (0,4.2) node[above] {$f(x)$};
    \draw[color=red]    plot (\x,\x)             node[right] {$f(x) =x$};
    \draw[color=blue]   plot (\x,{sin(\x r)})    node[right] {$f(x) = \sin x$};
    \draw[color=orange] plot (\x,{0.05*exp(\x)}) node[right] {$f(x) = \frac{1}{20} \mathrm e^x$};
  \end{tikzpicture}
\end{figure}

\subsection{Dia}

Para ahorrar tiempo a la hora de crear diagramas, podemos usar un software llamado \href{http://dia-installer.de/}{\textbf{Dia}} que nos permite crear nuestro diagrama de forma visual y exportarlo al formato de Tikz. Al exportarlo obtendremos un documento con el diagrama en sintaxis Tikz para poder modificar lo que necesitemos (por ejemplo, poner un símbolo matemático en el diagrama). También nos permite hacer diagramas UML y un montón de cosas más. Aclaro que cuando el diagrama tiene colores la exportación a \LaTeX no suele ir muy bien. Para añadir el diagrama creado por Dia a nuestro documento podemos incluirlo en el comando \texttt{figure}, tal y como se ha hecho en la \hyperref[dia]{Figura \ref*{dia}}.

\begin{figure}[!h]
  \centering
  \input{ejemplodia.tex}
  \caption{Diagrama hecho con Dia}
  \label{dia}
\end{figure}

\subsection{Subfiguras}

Para poner varias imágenes en una misma figura, usamos el paquete \texttt{subfigure}. Para poder dos imágenes una al lado de la otra debemos usar \texttt{mbox}.

\begin{figure}[!h]
  \mbox{
    \subfigure[Leyenda de una imagen]{
    \includegraphics[width=0.5\textwidth]{images/kittens}
    \label{gaticos1}
    }
    \subfigure[Leyenda de otra imagen]{
    \includegraphics[width=0.5\textwidth]{images/kittens}
    \label{gaticos2}
    }
  }
  \caption{miau}
  \label{miau}
\end{figure}

\section{Incluir código}

Para incluir código en nuestro documento podemos usar el paquete \texttt{minted}. Para instalarlo en Linux, usamos el siguiente comando:

\begin{minted}[frame=single, label={Instalación de minted en Arch Linux}]{console}
$ sudo pacman -S minted
$ sudo pacman -S python-pygments
\end{minted}


\begin{minted}[frame=single, label={Instalación de minted en Ubuntu}]{console}
$ sudo apt-get install texlive-latex-extra
$ sudo apt-get install python-pygments
\end{minted}

Para ver todos los lenguajes que soporta podemos ejecutar el siguiente comando:

\begin{minted}[frame=single,label={Lenguajes soportados por minted}]{console}
$ pygmentize -L lexers
\end{minted}

Otra opción es importar directamente a nuestro PDF el código al completo de un fichero fuente externo. Esto es útil ya que si modificamos nuestro código, al compilar el fichero \texttt{.tex}, automáticamente tendremos el código actualizado, evitando tener que ir modificando el código en sitios diferentes. Para ello, introducimos en la cabecera el siguiente fragmento de código:

\begin{minted}[frame=single,label={Importar ficheros de código en LaTeX}]{tex}
 \newmintedfile[nombreDeLaEtiqueta]{python}{
    linenos,
    numbersep=5pt,
    gobble=0,
    frame=lines,
    framesep=2mm,
}
\end{minted}

En este caso, lo haremos para ficheros con código escrito en Python, e importaremos el fichero de la siguiente manera:
\begin{minted}[frame=single,label={Importar ficheros de código en LaTeX}]{tex}
\mycpp[label="Nombre_del_frame"]{prueba.py}
\end{minted}

Y aquí tenemos el resultado: 
\mypython[label="Nombre"]{prueba.py}

Usemos la opción que usemos, para compilar el fichero \LaTeX, tenemos que usar la siguiente orden en la consola:

\begin{minted}{console}
$ pdflatex -shell-escape fichero.tex
\end{minted}

\end{document}
